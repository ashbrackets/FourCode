<html>
    <head>
        <title>FourCode</title>
        <link href="{{url_for('static',filename='css/main.css')}}"
            rel="stylesheet">
        <link rel="stylesheet"
            href="{{ url_for('static', filename='codemirror/lib/codemirror.css') }}">
        <script defer
            src="{{ url_for('static', filename='js/lesson.js') }}"></script>
        <script
            src="{{ url_for('static', filename='codemirror/lib/codemirror.js') }}"></script>
        <script
            src="{{ url_for('static', filename='codemirror/mode/python/python.js') }}"></script>
        <link rel="stylesheet"
            href="{{ url_for('static', filename='codemirror/theme/monokai.css') }}" />
        <!-- <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/addon/lint/lint.css">
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/addon/lint/lint.js"></script> -->
        <style>
            .CodeMirror {
                background-color: #1D2D44 !important;
            }
            .CodeMirror-gutters {
                background-color: #1D2D44 !important;
                border-right: 1px solid #374151 !important;
            }
            .CodeMirror {
                font-size: 16px;
                font-family: monospace; 
            }
            .error-highlight {
                background-color: #ff0000;
                color: #000000;
            }
        </style>
    </head>
    <body class="bg-[#0D1321] flex flex-col h-[100vh]">
        <div id="header"
            class="h-[10%] w-full bg-[#0D1321] flex items-center justify-between">
            <div name="Logo" class="flex flex-row pl-3 pb-2">
                <p class="text-blue-400 text-4xl">[</p>
                <p class="text-white text-4xl">FourCode</p>
                <p class="text-blue-400 text-4xl">]</p>
            </div>
            <div name="navbar" class="pr-2">
                <button
                    class="rounded-lg bg-[#3E5C76] text-stone-200 mr-1 px-4 py-2 border-stone-200 hover:border-[1px]">
                    Login
                </button>
            </div>
        </div>
        <div
            class="flex flex-col lg:flex-row flex-1 h-[90%] rounded-t-lg bg-zinc-300">
            <div
                class="flex flex-col h-full w-full px-2 lg:py-2 pt-1 pb-2 lg:pr-1 lg:pl-2 order-2 lg:order-1 flex-1">
                <div name="Input"
                    class="h-[66%] flex flex-col bg-[#0D1321] rounded-lg mb-2">
                    <p class="text-white pl-1 py-1">Code</p>
                    <div
                        class="rounded-lg overflow-hidden h-full mx-2 mt-1">
                        <textarea id="code-editor"
                            class=" w-full h-full bg-[#1D2D44]"></textarea>
                    </div>
                    <div class="flex justify-end p-2">
                        <button id="run-button"
                            class="rounded-lg bg-[#1D2D44] text-[#F0EBD8] hover:outline outline-1 outline-white px-6 py-1">
                            Run
                        </button>
                    </div>
                </div>
                <div name="Output"
                    class="h-[33%] flex flex-col bg-[#0D1321] rounded-lg">
                    <p class="text-white pl-1 pt-1">Output</p>
                    <div id="output"
                        class="scrollbar scrollbar-thumb-white scrollbar-track-transparent h-full m-2 rounded-lg bg-[#1D2D44] text-white font-mono overflow-y-auto whitespace-pre-wrap px-2 pt-1"></div>
                </div>
            </div>
            <div
                class="flex flex-col h-full w-full px-2 lg:py-2 pt-2 pb-1 lg:pr-2 lg:pl-1 order-1 lg:order-2 flex-1">
                <div name="lesson"
                    class="bg-[#0D1321] rounded-lg h-[50%] w-full flex flex-col flex-1">
                    <p class="text-white pl-2 pt-1 text-lg">Lesson</p>
                    <div class="prose prose-p:m-0 prose-h1:m-0 prose-h1:text-white prose-h2:text-white prose-h2:m-0 max-w-none scrollbar scrollbar-thumb-white scrollbar-track-transparent h-full mx-2 mt-2 rounded-lg bg-[#1D2D44] text-white font-mono overflow-y-auto whitespace-pre-wrap px-2 pt-1">{{ content | safe}}</div>
                    <nav class="my-2 flex justify-between">
                        <a href="{{ url_for('learn', lesson_index=lesson_index-1) }}" class="{{ 'invisible' if lesson_index <= 0 else '' }}">
                            <button class="mx-2 px-6 py-1 bg-[#1D2D44] text-white rounded-lg hover:outline outline-1 outline-white {{ 'invisible' if lesson_index <= 0 else '' }}">Previous</button>
                        </a>
                        <a href="{{ url_for('learn', lesson_index=lesson_index+1) }} " class="{{ 'invisible' if lesson_index >= total_lessons - 1 else '' }}">
                            <button class="mx-2 px-6 py-1 bg-[#1D2D44] text-white rounded-lg hover:outline outline-1 outline-white {{ 'invisible' if lesson_index >= total_lessons - 1 else '' }}">Next</button>
                        </a>
                    </nav>
                </div>
                <div name="canvas"
                    class=" bg-[#0D1321] rounded-lg h-[50%] flex-1 hidden mt-2">
                    <p class="text-white pl-2 pt-1 text-lg">Canvas</p>
                </div>
            </div>
        </div>
    </body>
</html>